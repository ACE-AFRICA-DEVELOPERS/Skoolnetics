include includes/header.pug 
block content
    link(rel="stylesheet" href="/stylesheets/dashboard.css")
    body
        .loader-bg
            .loader-track
                .loader-fill
        include includes/sidenav.pug 
        include includes/usernav.pug
        .pcoded-main-container
            .pcoded-wrapper
                .pcoded-content
                    .pcoded-inner-content
                        .main-body
                            .page-wrapper
                                p #[a(href=`/school/lesson-notes/${pClass}/all` class="btn btn-info") Check Approved Notes]
                                .card
                                    if lessonNotes.length > 0
                                        .card-header
                                            h5 Unapproved Lesson Notes
                                        .card-block.table-border-style
                                            .table-responsive
                                                table.table.table-striped
                                                    thead.thead-light
                                                        tr
                                                            th Staff
                                                            th Subject
                                                            th Class
                                                            th Week
                                                            th View
                                                            th Approve
                                                    tbody
                                                        each lessonNote in lessonNotes
                                                            -let singleLessonNote = '/school/lesson-notes/' + pClass + '/' + lessonNote._id
                                                            -let approveUrl = '/school/lesson-notes/' + pClass + '/' + lessonNote._id + '/approve'
                                                            tr
                                                                td #{staffName[lessonNote.staff]}
                                                                td #{lessonNote.subject}
                                                                td #{lessonNote.className}
                                                                td #{lessonNote.week}
                                                                td #[a(href=singleLessonNote class="main-link") view]
                                                                td #[a(href="#" class="ace-btn" data-toggle="modal" data-target="#approveModal") #[i(class="fa fa-handshake-o")]]
                                                                div(class="modal fade" id="approveModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true")
                                                                    div(class="modal-dialog" role="document")
                                                                        div(class="modal-content")
                                                                            div(class="modal-header")
                                                                                h5(class="modal-title" id="exampleModalLabel") Are you sure?
                                                                                button(class="close" type="button" data-dismiss="modal" aria-label="Close")
                                                                                    span(aria-hidden="true") Ã—
                                                                            div(class="modal-body") Are you sure you want to approve this note?
                                                                            div(class="modal-footer")
                                                                                a(class="ace-btn mr-3" href=approveUrl) Ok
                                                                                button(class="cancel-btn" type="button" data-dismiss="modal") Cancel
                                    else
                                        .card-header
                                            h5 Unapproved Lesson Notes
                                            span.d-block.m-t-5 No Lesson note has been created for this class.
                                    

        include includes/footer.pug